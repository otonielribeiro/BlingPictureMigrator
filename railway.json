{
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "streamlit run app/app.py --server.port $PORT --server.address 0.0.0.0",
    "healthcheckPath": "/",
    "healthcheckPort": 8080,
    "numReplicas": 1,
    "restartPolicy": {
      "maxRetries": 10
    },
    "template": {
      "name": "bling-picture-migrator",
      "isPrivate": false,
      "environment": [
        {
          "name": "BLING_LOJAHI_CLIENT_ID",
          "value": ""
        },
        {
          "name": "BLING_LOJAHI_CLIENT_SECRET",
          "value": ""
        },
        {
          "name": "BLING_LOJAHI_REDIRECT_URI",
          "value": "http://localhost:8080/oauth_callback" 
        },
        {
          "name": "BLING_SELECT_CLIENT_ID",
          "value": ""
        },
        {
          "name": "BLING_SELECT_CLIENT_SECRET",
          "value": ""
        },
        {
          "name": "BLING_SELECT_REDIRECT_URI",
          "value": "http://localhost:8080/oauth_callback" 
        },
        {
          "name": "STORAGE_PATH",
          "value": "/app/data/storage"
        },
        {
          "name": "PORT",
          "value": "8080"
        }
      ]
    }
  },
  "minReplicas": 1,
  "maxReplicas": 1,
  "volumes": {
    "/app/data": {
      "size": "1GB"
    }
  }
}
